import{_ as K,r as c,o as I,a as n,b as e,d as p,f as R,w as A,g as _,F as C,k as M,h as d,i as f,q as y,v as T,m as s,p as i,e as S}from"./index-D6MGQX7T.js";const P={class:"w-full min-h-screen p-4"},V={class:"container mx-auto"},z={class:"flex flex-col md:flex-row justify-between items-center mb-6 px-4 space-y-4 md:space-y-0 pt-5"},N={class:"grid grid-cols-1 gap-6 p-4"},U={class:"setting-card relative overflow-hidden rounded-2xl p-6 flex flex-col gap-4"},j={class:"relative flex flex-col gap-4"},B={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},H=["value"],O={class:"space-y-2"},$={class:"flex items-center justify-between"},D={key:0,class:"text-gray-500 text-center py-4"},F=["value"],q=["onClick"],E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={class:"setting-card relative overflow-hidden rounded-2xl p-6 flex flex-col gap-4"},L={class:"relative flex flex-col gap-2"},G={class:"flex items-center gap-2"},Q={class:"setting-card relative overflow-hidden rounded-2xl p-6 flex flex-col gap-4"},W={class:"relative flex flex-col gap-2"},X={class:"flex items-center gap-2"},Y={class:"setting-card relative overflow-hidden rounded-2xl p-6 flex flex-col gap-4"},Z={class:"relative flex flex-col gap-2"},ee={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},te={class:"bg-white rounded-lg p-6 w-96 max-w-90vw"},oe={class:"flex gap-2 justify-end"},ae={__name:"settings",setup(le){const o=c({apiKey:localStorage.getItem("apiKey"),adminKey:"",regularKeys:[],defaultHeaders:"",defaultCookie:"",autoRefresh:!1,autoRefreshInterval:21600,outThink:!1,searchInfoMode:"table"}),u=c(!1),r=c(""),g=async()=>{try{const a=await s.get("/api/settings",{headers:{Authorization:localStorage.getItem("apiKey")}});o.value.apiKey=a.data.apiKey,o.value.adminKey=a.data.adminKey||"",o.value.regularKeys=a.data.regularKeys||[],o.value.defaultHeaders=JSON.stringify(a.data.defaultHeaders),o.value.defaultCookie=a.data.defaultCookie,o.value.autoRefresh=a.data.autoRefresh,o.value.autoRefreshInterval=a.data.autoRefreshInterval,o.value.outThink=a.data.outThink,o.value.searchInfoMode=a.data.searchInfoMode}catch(a){console.error("Âä†ËΩΩËÆæÁΩÆÂ§±Ë¥•:",a)}},x=async()=>{try{await s.post("/api/setAutoRefresh",{autoRefresh:o.value.autoRefresh,autoRefreshInterval:o.value.autoRefreshInterval},{headers:{Authorization:localStorage.getItem("apiKey")||""}}),alert("Ëá™Âä®Âà∑Êñ∞ËÆæÁΩÆ‰øùÂ≠òÊàêÂäü")}catch(a){alert("Ëá™Âä®Âà∑Êñ∞ËÆæÁΩÆ‰øùÂ≠òÂ§±Ë¥•: "+a.message)}},h=async()=>{try{await s.post("/api/setOutThink",{outThink:o.value.outThink},{headers:{Authorization:localStorage.getItem("apiKey")||""}}),alert("ÊÄùËÄÉËæìÂá∫ËÆæÁΩÆ‰øùÂ≠òÊàêÂäü")}catch(a){alert("ÊÄùËÄÉËæìÂá∫ËÆæÁΩÆ‰øùÂ≠òÂ§±Ë¥•: "+a.message)}},m=async()=>{try{await s.post("/api/search-info-mode",{searchInfoMode:o.value.searchInfoMode},{headers:{Authorization:localStorage.getItem("apiKey")||""}}),alert("ÊêúÁ¥¢‰ø°ÊÅØÊ®°Âºè‰øùÂ≠òÊàêÂäü")}catch(a){alert("ÊêúÁ¥¢‰ø°ÊÅØÊ®°Âºè‰øùÂ≠òÂ§±Ë¥•: "+a.message)}},w=async()=>{if(!r.value.trim()){alert("ËØ∑ËæìÂÖ•API Key");return}try{await s.post("/api/addRegularKey",{apiKey:r.value.trim()},{headers:{Authorization:localStorage.getItem("apiKey")||""}}),alert("API KeyÊ∑ªÂä†ÊàêÂäü"),r.value="",u.value=!1,await g()}catch(a){alert("API KeyÊ∑ªÂä†Â§±Ë¥•: "+a.message)}},k=async a=>{if(!confirm("Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§API KeyÂêóÔºü"))return;const t=o.value.regularKeys[a];try{await s.post("/api/deleteRegularKey",{apiKey:t},{headers:{Authorization:localStorage.getItem("apiKey")||""}}),alert("API KeyÂà†Èô§ÊàêÂäü"),await g()}catch(b){alert("API KeyÂà†Èô§Â§±Ë¥•: "+b.message)}};return I(()=>{g()}),(a,t)=>{const b=_("router-link");return i(),n("div",P,[e("div",V,[e("div",z,[t[8]||(t[8]=e("h1",{class:"text-3xl font-bold"},"Á≥ªÁªüËÆæÁΩÆ",-1)),R(b,{to:"/",class:"action-button font-bold border border-blue-200 bg-blue-50 text-blue-900 px-4 py-2 rounded-xl shadow-sm hover:bg-blue-100 hover:border-blue-400 transition-all duration-300 transform hover:-translate-y-1 active:translate-y-0 text-center"},{default:A(()=>t[7]||(t[7]=[S(" ËøîÂõûTokenÁÆ°ÁêÜ ")])),_:1})]),e("div",N,[e("div",U,[t[12]||(t[12]=e("div",{class:"absolute inset-0 bg-white/30 backdrop-blur-md border border-white/30 rounded-2xl"},null,-1)),e("div",j,[t[11]||(t[11]=e("label",{class:"text-gray-700 font-semibold text-lg"},"üîë API Key ÁÆ°ÁêÜ",-1)),e("div",B,[t[9]||(t[9]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"text-yellow-600 font-semibold"},"üëë ÁÆ°ÁêÜÂëòÂØÜÈí•"),e("span",{class:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded"},"‰∏çÂèØ‰øÆÊîπ")],-1)),e("input",{value:o.value.adminKey,type:"text",readonly:"",class:"w-full rounded-lg border-gray-300 bg-gray-100 shadow-sm h-10 text-sm px-3 cursor-not-allowed"},null,8,H)]),e("div",O,[e("div",$,[t[10]||(t[10]=e("span",{class:"text-gray-700 font-semibold"},"üîê ÊôÆÈÄöÂØÜÈí•",-1)),e("button",{onClick:t[0]||(t[0]=l=>u.value=!0),class:"bg-green-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-green-600 transition-all"}," + Ê∑ªÂä†ÂØÜÈí• ")]),o.value.regularKeys.length===0?(i(),n("div",D," ÊöÇÊó†ÊôÆÈÄöÂØÜÈí• ")):p("",!0),(i(!0),n(C,null,M(o.value.regularKeys,(l,v)=>(i(),n("div",{key:v,class:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-lg p-3"},[e("input",{value:l,type:"text",readonly:"",class:"flex-1 rounded-lg border-gray-300 bg-white shadow-sm h-8 text-sm px-3"},null,8,F),e("button",{onClick:se=>k(v),class:"bg-red-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-600 transition-all"}," Âà†Èô§ ",8,q)]))),128))])])]),e("div",E,[e("div",J,[t[16]||(t[16]=e("div",{class:"absolute inset-0 bg-white/30 backdrop-blur-md border border-white/30 rounded-2xl"},null,-1)),e("div",L,[t[14]||(t[14]=e("label",{class:"text-gray-700 font-semibold"},"üîÑ Ëá™Âä®Âà∑Êñ∞",-1)),e("div",G,[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.autoRefresh=l),type:"checkbox",class:"h-5 w-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[f,o.value.autoRefresh]]),t[13]||(t[13]=e("span",null,"ÂêØÁî®Ëá™Âä®Âà∑Êñ∞",-1))]),t[15]||(t[15]=e("label",{class:"text-gray-700"},"Âà∑Êñ∞Èó¥ÈöîÔºàÁßíÔºâ",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.autoRefreshInterval=l),type:"number",class:"mt-1 block w-full rounded-xl border-gray-300 bg-white/60 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 transition-all duration-300 h-12 text-base px-4"},null,512),[[y,o.value.autoRefreshInterval,void 0,{number:!0}]]),e("button",{onClick:x,class:"w-full mt-2 bg-black text-white rounded-lg py-2 hover:bg-white hover:text-black border border-black transition-all duration-300"},"‰øùÂ≠ò")])]),e("div",Q,[t[19]||(t[19]=e("div",{class:"absolute inset-0 bg-white/30 backdrop-blur-md border border-white/30 rounded-2xl"},null,-1)),e("div",W,[t[18]||(t[18]=e("label",{class:"text-gray-700 font-semibold"},"üí° ÊÄùËÄÉËæìÂá∫",-1)),e("div",X,[d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.outThink=l),type:"checkbox",class:"h-5 w-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[f,o.value.outThink]]),t[17]||(t[17]=e("span",null,"ÂêØÁî®ÊÄùËÄÉËæìÂá∫",-1))]),e("button",{onClick:h,class:"w-full mt-2 bg-black text-white rounded-lg py-2 hover:bg-white hover:text-black border border-black transition-all duration-300"},"‰øùÂ≠ò")])]),e("div",Y,[t[22]||(t[22]=e("div",{class:"absolute inset-0 bg-white/30 backdrop-blur-md border border-white/30 rounded-2xl"},null,-1)),e("div",Z,[t[21]||(t[21]=e("label",{class:"text-gray-700 font-semibold"},"üîç ÊêúÁ¥¢‰ø°ÊÅØÊòæÁ§∫Ê®°Âºè",-1)),d(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.searchInfoMode=l),class:"mt-1 block w-full rounded-xl border-gray-300 bg-white/60 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 transition-all duration-300 h-12 text-base px-4"},t[20]||(t[20]=[e("option",{value:"table"},"Ë°®Ê†ºÊ®°Âºè",-1),e("option",{value:"text"},"ÊñáÊú¨Ê®°Âºè",-1)]),512),[[T,o.value.searchInfoMode]]),e("button",{onClick:m,class:"w-full mt-2 bg-black text-white rounded-lg py-2 hover:bg-white hover:text-black border border-black transition-all duration-300"},"‰øùÂ≠ò")])])])]),u.value?(i(),n("div",ee,[e("div",te,[t[23]||(t[23]=e("h3",{class:"text-lg font-semibold mb-4"},"Ê∑ªÂä†ÊôÆÈÄöAPI Key",-1)),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>r.value=l),type:"text",placeholder:"ËØ∑ËæìÂÖ•API Key",class:"w-full rounded-lg border-gray-300 shadow-sm h-10 text-sm px-3 mb-4"},null,512),[[y,r.value]]),e("div",oe,[e("button",{onClick:t[6]||(t[6]=l=>u.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all"}," ÂèñÊ∂à "),e("button",{onClick:w,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all"}," Ê∑ªÂä† ")])])])):p("",!0)])])}}},ne=K(ae,[["__scopeId","data-v-8b6203cc"]]);export{ne as default};
